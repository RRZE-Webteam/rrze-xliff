!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=147)}({1:function(e,t){!function(){e.exports=this.wp.element}()},145:function(e,t,r){e.exports=r.p+"dist/css/classic-editor.css"},146:function(e,t,r){"use strict";r.r(t);var a=r(24),n=r.n(a),i=r(1);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=wp.plugins.registerPlugin,f=wp.editPost.PluginPostStatusInfo,u=wp.components,s=u.Button,d=u.TextControl,p=u.TextareaControl,v=u.Modal,m=u.Disabled,b=(u.Notice,u.SelectControl),y=wp.compose.withState,x=wp.element.Fragment;c("rrze-xliff",{render:function(){var e=window.location,t=new URL(e).searchParams.get("post"),r=void 0!==rrzeXliffJavaScriptData&&rrzeXliffJavaScriptData.lang_codes?rrzeXliffJavaScriptData.lang_codes:[],a="".concat(e.protocol,"//").concat(e.host).concat(e.pathname,"?xliff-export=").concat(t),l=void 0!==rrzeXliffJavaScriptData&&rrzeXliffJavaScriptData.email_address?rrzeXliffJavaScriptData.email_address:"de",c=y({isOpen:!1,emailAddress:l,emailNote:"",xliffTargetLangCode:void 0!==rrzeXliffJavaScriptData&&rrzeXliffJavaScriptData.default_target_lang_code?rrzeXliffJavaScriptData.default_target_lang_code:""})(function(e){var n=e.isOpen,l=e.emailAddress,o=e.emailNote,c=e.xliffTargetLangCode,f=e.setState;return Object(i.createElement)(x,null,Object(i.createElement)(s,{isTertiary:!0,onClick:function(){return f({isOpen:!0})}},rrzeXliffJavaScriptData.export),n&&Object(i.createElement)(v,{title:rrzeXliffJavaScriptData.export_title,onRequestClose:function(){return f({isOpen:!1})}},r.length>0&&Object(i.createElement)(b,{label:rrzeXliffJavaScriptData.lang_code_label,value:c,options:r,onChange:function(e){f({xliffTargetLangCode:e})}}),Object(i.createElement)("p",null,Object(i.createElement)(s,{href:"".concat(a,"&xliff_target_lang_code=").concat(c),isDefault:!0},rrzeXliffJavaScriptData.download)),Object(i.createElement)("p",null,Object(i.createElement)("strong",null,rrzeXliffJavaScriptData.send_via_email)),Object(i.createElement)(d,{label:rrzeXliffJavaScriptData.email_address_label,value:l,onChange:function(e){return f({emailAddress:e})},id:"xliff_export_email_address"}),Object(i.createElement)(p,{label:rrzeXliffJavaScriptData.email_text_label,id:"email_export_note",value:o,onChange:function(e){return f({emailNote:e})}}),Object(i.createElement)("p",null,Object(i.createElement)(s,{onClick:function(){return function(e,r){var a=new XMLHttpRequest;document.querySelector("#xliff_export_email_button").setAttribute("disabled","disabled"),a.open("POST",ajaxurl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.responseType="json",a.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&200===this.status&&(f({isOpen:!1}),a.response.length>0&&a.response.forEach(function(e){wp.data.dispatch("core/notices").createNotice(e.type,e.notice)}))},r=r.replace(/(\r\n|[\r\n])/g,"<br>"),a.send("_nonce=".concat(t,"&action=xliff_email_export&xliff_export_post=").concat(t,"&xliff_export_email_address=").concat(e,"&email_export_note=").concat(r,"&xliff_target_lang_code=").concat(c))}(l,o)},isDefault:!0,id:"xliff_export_email_button"},rrzeXliffJavaScriptData.send_email))))});var u=y({isOpen:!1,hasFile:!1})(function(e){var t=e.isOpen,r=e.hasFile,a=e.setState,l=Object(i.createElement)(s,{isDefault:!0,id:"xliff-import-button",onClick:function(){return a({isOpen:!1})},hidden:"true"},rrzeXliffJavaScriptData.import);return Object(i.createElement)(x,null,Object(i.createElement)(s,{isTertiary:!0,onClick:function(){return a({isOpen:!0})}},rrzeXliffJavaScriptData.import),t&&Object(i.createElement)(v,{title:rrzeXliffJavaScriptData.import,onRequestClose:function(){return a({isOpen:!1})}},Object(i.createElement)("input",{type:"file",id:"xliff-file",name:"xliff-file",accept:".xliff",onChange:function(e){!function(e){var t=new FileReader;t.onload=function(e){var t,r,a=(new DOMParser).parseFromString(e.target.result,"application/xml"),i=document.querySelector("#xliff-import-button"),l={};i.removeAttribute("hidden");var c=!0,f=!1,u=void 0;try{for(var s,d=a.childNodes[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value;if("xliff"===p.nodeName){var v=!0,m=!1,b=void 0;try{for(var y,x=p.childNodes[Symbol.iterator]();!(v=(y=x.next()).done);v=!0){var h=y.value;if("file"===h.nodeName){var O=!0,_=!1,g=void 0;try{for(var S,w=h.childNodes[Symbol.iterator]();!(O=(S=w.next()).done);O=!0){var j=S.value;if("unit"===j.nodeName)if("title"===j.id){var D=!0,E=!1,N=void 0;try{for(var z,X=j.childNodes[Symbol.iterator]();!(D=(z=X.next()).done);D=!0){var P=z.value;if("segment"===P.nodeName){var J=!0,C=!1,T=void 0;try{for(var k,q=P.childNodes[Symbol.iterator]();!(J=(k=q.next()).done);J=!0){var A=k.value;"target"===A.nodeName&&(t=A.textContent)}}catch(e){C=!0,T=e}finally{try{J||null==q.return||q.return()}finally{if(C)throw T}}}}}catch(e){E=!0,N=e}finally{try{D||null==X.return||X.return()}finally{if(E)throw N}}}else if("body"===j.id){var F=!0,L=!1,R=void 0;try{for(var M,B=j.childNodes[Symbol.iterator]();!(F=(M=B.next()).done);F=!0){var H=M.value;if("segment"===H.nodeName){var I=!0,U=!1,G=void 0;try{for(var K,Q=H.childNodes[Symbol.iterator]();!(I=(K=Q.next()).done);I=!0){var V=K.value;"target"===V.nodeName&&(r=V.textContent)}}catch(e){U=!0,G=e}finally{try{I||null==Q.return||Q.return()}finally{if(U)throw G}}}}}catch(e){L=!0,R=e}finally{try{F||null==B.return||B.return()}finally{if(L)throw R}}}else if(0===j.id.indexOf("_meta_")){var W=!0,Y=!1,Z=void 0;try{for(var $,ee=j.childNodes[Symbol.iterator]();!(W=($=ee.next()).done);W=!0){var te=$.value;if("segment"===te.nodeName){var re=!0,ae=!1,ne=void 0;try{for(var ie,le=te.childNodes[Symbol.iterator]();!(re=(ie=le.next()).done);re=!0){var oe=ie.value;"target"===oe.nodeName&&(l=Object.assign(l,n()({},"".concat(j.id.replace("_meta_","")),oe.textContent)))}}catch(e){ae=!0,ne=e}finally{try{re||null==le.return||le.return()}finally{if(ae)throw ne}}}}}catch(e){Y=!0,Z=e}finally{try{W||null==ee.return||ee.return()}finally{if(Y)throw Z}}}}}catch(e){_=!0,g=e}finally{try{O||null==w.return||w.return()}finally{if(_)throw g}}}}}catch(e){m=!0,b=e}finally{try{v||null==x.return||x.return()}finally{if(m)throw b}}}}}catch(e){f=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw u}}i.addEventListener("click",function(e){r=wp.blocks.parse(r),wp.data.dispatch("core/editor").resetBlocks([]),wp.data.dispatch("core/editor").insertBlocks(r),wp.data.dispatch("core/editor").editPost({title:t});var a=wp.data.select("core/editor").getEditedPostAttribute("meta");for(var i in l)wp.data.dispatch("core/editor").editPost({meta:o({},a,n()({},i,l[i]))})})},t.readAsText(e[0])}(e.target.files),e.target.files?a({hasFile:!0}):a({hasFile:!1})}}),Object(i.createElement)("p",null,r?l:Object(i.createElement)(m,null,l))))});return Object(i.createElement)(f,{className:"rrze-xliff-export-and-import"},Object(i.createElement)("div",null,rrzeXliffJavaScriptData.xliff," ",Object(i.createElement)(c,null)," ",Object(i.createElement)(u,null)))}})},147:function(e,t,r){r(146),e.exports=r(145)},24:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}}});