!function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){!function(){e.exports=this.wp.element}()},,function(e,t,r){"use strict";r.r(t);var n=r(0),l=wp.plugins.registerPlugin,i=wp.editPost.PluginPostStatusInfo,a=wp.components,o=a.Button,c=a.TextControl,f=a.Modal,u=a.Disabled,s=wp.compose.withState,d=wp.i18n.__,p=wp.element.Fragment;l("rrze-xliff",{render:function(){var e=window.location,t=new URL(e).searchParams.get("post"),r="".concat(e.protocol,"//").concat(e.host).concat(e.pathname,"?xliff-export=").concat(t),l=s({isOpen:!1,emailAddress:""})(function(l){var i=l.isOpen,a=l.emailAddress,u=l.setState;return Object(n.createElement)(p,null,Object(n.createElement)(o,{isTertiary:!0,onClick:function(){return u({isOpen:!0})}},d("Export","rrze-xliff")),i&&Object(n.createElement)(f,{title:d("Export post as XLIFF","rrze-xliff"),onRequestClose:function(){return u({isOpen:!1})}},Object(n.createElement)("p",null,Object(n.createElement)(o,{href:r,isDefault:!0},d("Download XLIFF file","rrze-xliff"))),Object(n.createElement)("p",null,Object(n.createElement)("strong",null,d("Or send the file to an email address:","rrze-xliff"))),Object(n.createElement)(c,{label:d("Email address","rrze-xliff"),value:a,onChange:function(e){return u({emailAddress:e})}}),Object(n.createElement)("p",null,Object(n.createElement)(o,{href:"".concat(e.protocol,"//").concat(e.host).concat(e.pathname,"?xliff-export=").concat(t,"&xliff_export_email_address=").concat(a),isDefault:!0},d("Send XLIFF file","rrze-xliff")))))});var a=s({isOpen:!1,hasFile:!1})(function(e){var t=e.isOpen,r=e.hasFile,l=e.setState,i=Object(n.createElement)(o,{isDefault:!0,id:"xliff-import-button",onClick:function(){return l({isOpen:!1})},hidden:"true"},d("Import","rrze-xliff"));return Object(n.createElement)(p,null,Object(n.createElement)(o,{isTertiary:!0,onClick:function(){return l({isOpen:!0})}},d("Import","rrze-xliff")),t&&Object(n.createElement)(f,{title:d("Import","rrze-xliff"),onRequestClose:function(){return l({isOpen:!1})}},Object(n.createElement)("input",{type:"file",id:"xliff-file",name:"xliff-file",accept:".xliff",onChange:function(e){!function(e){var t=new FileReader;t.onload=function(e){var t,r,n=(new DOMParser).parseFromString(e.target.result,"application/xml"),l=document.querySelector("#xliff-import-button");l.removeAttribute("hidden");var i=!0,a=!1,o=void 0;try{for(var c,f=n.childNodes[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var u=c.value;if("xliff"===u.nodeName){var s=!0,d=!1,p=void 0;try{for(var m,v=u.childNodes[Symbol.iterator]();!(s=(m=v.next()).done);s=!0){var x=m.value;if("file"===x.nodeName){var y=!0,h=!1,b=void 0;try{for(var O,w=x.childNodes[Symbol.iterator]();!(y=(O=w.next()).done);y=!0){var E=O.value;if("unit"===E.nodeName)if("title"===E.id){var j=!0,g=!1,F=void 0;try{for(var N,S=E.childNodes[Symbol.iterator]();!(j=(N=S.next()).done);j=!0){var z=N.value;if("segment"===z.nodeName){var C=!0,P=!1,_=void 0;try{for(var I,k=z.childNodes[Symbol.iterator]();!(C=(I=k.next()).done);C=!0){var D=I.value;"target"===D.nodeName&&(t=D.textContent)}}catch(e){P=!0,_=e}finally{try{C||null==k.return||k.return()}finally{if(P)throw _}}}}}catch(e){g=!0,F=e}finally{try{j||null==S.return||S.return()}finally{if(g)throw F}}}else if("body"===E.id){var L=!0,A=!1,M=void 0;try{for(var R,T=E.childNodes[Symbol.iterator]();!(L=(R=T.next()).done);L=!0){var X=R.value;if("segment"===X.nodeName){var q=!0,B=!1,U=void 0;try{for(var G,H=X.childNodes[Symbol.iterator]();!(q=(G=H.next()).done);q=!0){var J=G.value;"target"===J.nodeName&&(r=J.textContent)}}catch(e){B=!0,U=e}finally{try{q||null==H.return||H.return()}finally{if(B)throw U}}}}}catch(e){A=!0,M=e}finally{try{L||null==T.return||T.return()}finally{if(A)throw M}}}}}catch(e){h=!0,b=e}finally{try{y||null==w.return||w.return()}finally{if(h)throw b}}}}}catch(e){d=!0,p=e}finally{try{s||null==v.return||v.return()}finally{if(d)throw p}}}}}catch(e){a=!0,o=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw o}}l.addEventListener("click",function(e){r=wp.blocks.parse(r),wp.data.dispatch("core/editor").resetBlocks([]),wp.data.dispatch("core/editor").insertBlocks(r),wp.data.dispatch("core/editor").editPost({title:t})})},t.readAsText(e[0])}(e.target.files),e.target.files?l({hasFile:!0}):l({hasFile:!1})}}),Object(n.createElement)("p",null,r?i:Object(n.createElement)(u,null,i))))});return Object(n.createElement)(i,{className:"rrze-xliff-export-and-import"},Object(n.createElement)("div",null,d("XLIFF:","rrze-xliff")," ",Object(n.createElement)(l,null)," ",Object(n.createElement)(a,null)))}})}]);